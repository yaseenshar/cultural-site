


<div class="flex h-[calc(100vh-100px)]">
  <!-- Sidebar only if not in single site mode -->
  <aside *ngIf="!site" class="w-72 bg-white border-r shadow-md p-4 overflow-y-auto">
    <h2 class="text-lg font-semibold mb-4">Filter Sites ({{ filteredSites.length }})</h2>

    <!-- Search -->
    <input
      [(ngModel)]="searchText"
      (input)="applyFilters()"
      type="text"
      placeholder="Search by name..."
      class="w-full px-3 py-2 mb-4 border rounded shadow-sm text-sm"
    />

    <!-- Categories -->
    <div class="space-y-2 mb-4">
      <label *ngFor="let cat of categoryList" class="flex items-center space-x-2">
        <input
          type="checkbox"
          [checked]="selectedCategories.includes(cat)"
          (change)="onCategoryChange(cat)"
        />
        <span class="capitalize">{{ cat.toLowerCase() }}</span>
      </label>
    </div>

    <!-- Favorite toggle -->
    <div class="mb-4">
      <label class="flex items-center space-x-2">
        <input type="checkbox" [(ngModel)]="showFavoritesOnly" (change)="applyFilters()" />
        <span>Only Favorites</span>
      </label>
    </div>

    <!-- Reset Filters -->
    <button
      (click)="resetFilters()"
      class="text-sm text-blue-600 hover:underline mt-4"
    >
      Reset Filters
    </button>
  </aside>

  <!-- Map Area -->
  <div class="flex-1 relative">
    <div id="map" class="w-full h-full rounded-lg shadow-md"></div>
  </div>
</div>